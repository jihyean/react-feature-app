{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MOA\\\\jhk\\\\reactTest\\\\client\\\\src\\\\visChart2.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport 'vis-timeline/styles/vis-timeline-graph2d.min.css';\nimport vis from 'vis-timeline/standalone/umd/vis-timeline-graph2d.min';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TimelineComponent = () => {\n  _s();\n  const timelineRef = useRef(null);\n  useEffect(() => {\n    const now = Date.now();\n    const options = {\n      stack: true,\n      maxHeight: 640,\n      horizontalScroll: false,\n      verticalScroll: true,\n      zoomKey: 'ctrlKey',\n      start: now - 1000 * 60 * 60 * 24 * 3,\n      // minus 3 days\n      end: now + 1000 * 60 * 60 * 24 * 21,\n      // plus 1 month approx.\n      orientation: {\n        axis: 'both',\n        item: 'top'\n      }\n    };\n    const groups = new vis.DataSet();\n    const items = new vis.DataSet();\n    const count = 300;\n    for (let i = 0; i < count; i++) {\n      const start = now + 1000 * 60 * 60 * 24 * (i + Math.floor(Math.random() * 7));\n      const end = start + 1000 * 60 * 60 * 24 * (1 + Math.floor(Math.random() * 5));\n      groups.add({\n        id: i,\n        content: 'Task ' + i,\n        order: i\n      });\n      items.add({\n        id: i,\n        group: i,\n        start: start,\n        end: end,\n        type: 'range',\n        content: 'Item ' + i\n      });\n    }\n\n    // create a Timeline\n    const container = timelineRef.current;\n    const timeline = new vis.Timeline(container, null, options);\n    timeline.setGroups(groups);\n    timeline.setItems(items);\n    const debounce = (func, wait = 100) => {\n      let timeout;\n      return function (...args) {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n          func.apply(this, args);\n        }, wait);\n      };\n    };\n    const groupFocus = e => {\n      const vGroups = timeline.getVisibleGroups();\n      const vItems = vGroups.reduce((res, groupId) => {\n        const group = timeline.itemSet.groups[groupId];\n        if (group.items) {\n          res = res.concat(Object.keys(group.items));\n        }\n        return res;\n      }, []);\n      timeline.focus(vItems);\n    };\n    timeline.on('scroll', debounce(groupFocus, 200));\n    // Enabling the next line leads to a continuous since calling focus might scroll vertically even if it shouldn't\n    // timeline.on('scrollSide', debounce(groupFocus, 200));\n\n    // Cleanup function\n    return () => {\n      timeline.off('scroll', groupFocus);\n      // Remove any other event listeners or cleanup code as needed\n    };\n  }, []); // Empty dependency array ensures that the effect runs only once after the initial render\n\n  const showVisibleGroups = () => {\n    const visibleGroups = timelineRef.current.getVisibleGroups();\n    document.getElementById('visibleGroupsContainer').innerHTML = visibleGroups.join(', ');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Timeline visible Groups\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: showVisibleGroups,\n      children: \"Show current visible items\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"visible groups:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        id: \"visibleGroupsContainer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"(Scroll with the mouse and see the items being focus automatically on the timeline)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: timelineRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_s(TimelineComponent, \"WmRWskDcavl+TiZbRmI3th3R+g4=\");\n_c = TimelineComponent;\nexport default TimelineComponent;\nvar _c;\n$RefreshReg$(_c, \"TimelineComponent\");","map":{"version":3,"names":["React","useEffect","useRef","vis","jsxDEV","_jsxDEV","TimelineComponent","_s","timelineRef","now","Date","options","stack","maxHeight","horizontalScroll","verticalScroll","zoomKey","start","end","orientation","axis","item","groups","DataSet","items","count","i","Math","floor","random","add","id","content","order","group","type","container","current","timeline","Timeline","setGroups","setItems","debounce","func","wait","timeout","args","clearTimeout","setTimeout","apply","groupFocus","e","vGroups","getVisibleGroups","vItems","reduce","res","groupId","itemSet","concat","Object","keys","focus","on","off","showVisibleGroups","visibleGroups","document","getElementById","innerHTML","join","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","ref","_c","$RefreshReg$"],"sources":["C:/Users/MOA/jhk/reactTest/client/src/visChart2.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport 'vis-timeline/styles/vis-timeline-graph2d.min.css';\r\nimport vis from 'vis-timeline/standalone/umd/vis-timeline-graph2d.min';\r\n\r\nconst TimelineComponent = () => {\r\n  const timelineRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const now = Date.now();\r\n\r\n    const options = {\r\n      stack: true,\r\n      maxHeight: 640,\r\n      horizontalScroll: false,\r\n      verticalScroll: true,\r\n      zoomKey: 'ctrlKey',\r\n      start: now - 1000 * 60 * 60 * 24 * 3, // minus 3 days\r\n      end: now + 1000 * 60 * 60 * 24 * 21, // plus 1 month approx.\r\n      orientation: {\r\n        axis: 'both',\r\n        item: 'top',\r\n      },\r\n    };\r\n\r\n    const groups = new vis.DataSet();\r\n    const items = new vis.DataSet();\r\n\r\n    const count = 300;\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      const start = now + 1000 * 60 * 60 * 24 * (i + Math.floor(Math.random() * 7));\r\n      const end = start + 1000 * 60 * 60 * 24 * (1 + Math.floor(Math.random() * 5));\r\n\r\n      groups.add({\r\n        id: i,\r\n        content: 'Task ' + i,\r\n        order: i,\r\n      });\r\n\r\n      items.add({\r\n        id: i,\r\n        group: i,\r\n        start: start,\r\n        end: end,\r\n        type: 'range',\r\n        content: 'Item ' + i,\r\n      });\r\n    }\r\n\r\n    // create a Timeline\r\n    const container = timelineRef.current;\r\n    const timeline = new vis.Timeline(container, null, options);\r\n    timeline.setGroups(groups);\r\n    timeline.setItems(items);\r\n\r\n    const debounce = (func, wait = 100) => {\r\n      let timeout;\r\n      return function (...args) {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => {\r\n          func.apply(this, args);\r\n        }, wait);\r\n      };\r\n    };\r\n\r\n    const groupFocus = (e) => {\r\n      const vGroups = timeline.getVisibleGroups();\r\n      const vItems = vGroups.reduce((res, groupId) => {\r\n        const group = timeline.itemSet.groups[groupId];\r\n        if (group.items) {\r\n          res = res.concat(Object.keys(group.items));\r\n        }\r\n        return res;\r\n      }, []);\r\n      timeline.focus(vItems);\r\n    };\r\n\r\n    timeline.on('scroll', debounce(groupFocus, 200));\r\n    // Enabling the next line leads to a continuous since calling focus might scroll vertically even if it shouldn't\r\n    // timeline.on('scrollSide', debounce(groupFocus, 200));\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      timeline.off('scroll', groupFocus);\r\n      // Remove any other event listeners or cleanup code as needed\r\n    };\r\n  }, []); // Empty dependency array ensures that the effect runs only once after the initial render\r\n\r\n  const showVisibleGroups = () => {\r\n    const visibleGroups = timelineRef.current.getVisibleGroups();\r\n    document.getElementById('visibleGroupsContainer').innerHTML = visibleGroups.join(', ');\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Timeline visible Groups</h1>\r\n      <button onClick={showVisibleGroups}>Show current visible items</button>\r\n      <div>\r\n        <h2>visible groups:</h2>\r\n        <h3 id=\"visibleGroupsContainer\"></h3>\r\n        <h2>(Scroll with the mouse and see the items being focus automatically on the timeline)</h2>\r\n      </div>\r\n      <div ref={timelineRef}></div>\r\n      <br />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimelineComponent;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}